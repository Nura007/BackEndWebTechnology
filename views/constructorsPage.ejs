<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 2024 - Constructors Championship</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inika:wght@400;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="/css/styleCOnstructors.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    
    <header>
        <h1 class="page-title">Constructors</h1>
        <h2 class="page-subtitle">current 2024 season</h2>
    </header>

    <div class="container">
        
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Position</th>
                        <th>Team</th>
                        <th>Drivers</th>
                        <th>Points</th>
                        <th>Wins</th>
                        <th>Podiums</th>
                    </tr>
                </thead>
                <tbody id="constructorsBody">
                    <tr>
                        <td>1</td>
                        <td class="team-cell">
                            <div class="team-info">
                                <div class="team-color" style="background-color: #00D2BE;"></div>
                                <span>Red Bull Racing</span>
                            </div>
                        </td>
                        <td>Verstappen / Perez</td>
                        <td class="points">524</td>
                        <td>15</td>
                        <td>22</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td class="team-cell">
                            <div class="team-info">
                                <div class="team-color" style="background-color: #FF8700;"></div>
                                <span>McLaren</span>
                            </div>
                        </td>
                        <td>Norris / Piastri</td>
                        <td class="points">412</td>
                        <td>4</td>
                        <td>18</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td class="team-cell">
                            <div class="team-info">
                                <div class="team-color" style="background-color: #DC0000;"></div>
                                <span>Ferrari</span>
                            </div>
                        </td>
                        <td>Leclerc / Sainz</td>
                        <td class="points">406</td>
                        <td>3</td>
                        <td>17</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td class="team-cell">
                            <div class="team-info">
                                <div class="team-color" style="background-color: #00A19C;"></div>
                                <span>Mercedes</span>
                            </div>
                        </td>
                        <td>Hamilton / Russell</td>
                        <td class="points">382</td>
                        <td>1</td>
                        <td>12</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td class="team-cell">
                            <div class="team-info">
                                <div class="team-color" style="background-color: #0090FF;"></div>
                                <span>Aston Martin</span>
                            </div>
                        </td>
                        <td>Alonso / Stroll</td>
                        <td class="points">280</td>
                        <td>0</td>
                        <td>8</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        async function loadConstructors() {
            const res = await fetch('/api/constructors');
            const constructors = await res.json();
            
            const tbody = document.getElementById('constructorsBody');
            tbody.innerHTML = ''; // clear table

            constructors.forEach(c => {
                const tr = document.createElement('tr');

                tr.innerHTML = `
                    <td>${c.position}</td>
                    <td class="team-cell">
                        <div class="team-info">
                            <div class="team-color" style="background-color: ${c.color};"></div>
                            <span>${c.team}</span>
                        </div>
                    </td>
                    <td>${c.drivers}</td>
                    <td class="points">${c.points}</td>
                    <td>${c.wins}</td>
                    <td>${c.podiums}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        window.onload = loadConstructors;
    </script>

</body>
</html>